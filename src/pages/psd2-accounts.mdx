import { Collapse } from "../components/Collapse"
import { Steps, Step } from '../components/Step'
import Image from 'next/image'

export const description =
  'On this page, weâ€™ll dive into the PSD2 Accounts API. This API is used to confirm the availability of funds for a specific transaction. By accessing this API, you can seamlessly confirm the funds needed for a payment or transfer, ensuring successful transactions and reducing the risk of insufficient funds issues.'

# Accounts

The Accounts API gives you access to details, transactions and balances for accounts, all within the scope of a granted consent.  {{ className: 'lead' }}

  <Note>
  You can generate transaction reports for a specific account, allowing you to easily track and analyze transactions. You can also retrieve the balances of a given account, providing real-time information on the available funds.
  </Note>

  <Important>
  The PSD2 Accounts API also allows you to obtain a list of available accounts, providing an overview of all accessible accounts. Moreover, you can retrieve detailed account information for a specific account, including account details such as account type, owner information and account status.
  </Important>

The following diagram illustrates the process flow for account information access using our API in compliance with PSD2. The process involves several stages, including user authentication, consent creation, authorization and verification.

{/* <>
  <p><img src="/accounts-api-flow.png" alt="snappi" title="title" width={5000}/></p>
</> */}

      <Image 
        src="/PSD2-Accounts-API-flow.webp" 
        alt="Accounts API flow" 
        width={800} 
        height={600} 
        sizes="(max-width: 800px) 100vw, 800px"
      />

Here is a step-by-step explanation of each component and action within the flow:

<Steps>

  <Step number={1} title="Login & Authentication">
    The flow begins with user authentication, where you are redirected and required to authenticate before proceeding with any consent operation.
  </Step>

  <Step number={2} title="Account selection">
    After authentication, you are presented with a list of accounts to choose from. 
    <Important>
    Select specific accounts for which they provide consent for sharing account details, balances and transaction history.
    </Important>
  </Step>

  <Step number={3} title="Consent creation & options">
    Once you select accounts and consent options, the system creates the consent. The consent is initialized and tagged with a pending status. The consent management allows you to toggle consent for different data sharing categories (account details and balances) before finalizing consent with a confirmation button.
  </Step>

  <Step number={4} title="OTP verification">
    Once you choose accounts and options, move on to the OTP verification step to confirm and verify the consent, whose status is now accepted. This step is key to ensuring the authorization process is secure.
  </Step>

  <Step number={5} title="Final confirmation">
    After OTP verification, the consent is confirmed and the system processes the request. The consent status is updated to accepted status and the consent is ready for use.
    <Bulb>
    If verification fails or maximum OTP attempts are reached, the flow rejects the process.
    </Bulb>
  </Step>

</Steps>  





{/*
<Note>
You can access transaction reports, check the balances of accounts, obtain a list of available accounts and retrieve account details.
</Note>

<Note>
You can generate transaction reports for a specific account, allowing you to easily track and analyze transactions. You can also retrieve the balances of a given account, providing real-time information on the available funds.
</Note>

<Important>
The PSD2 Accounts API also allows you to obtain a list of available accounts, providing an overview of all accessible accounts. Moreover, you can retrieve detailed account information for a specific account, including account details such as account type, owner information and account status.
</Important>
*/}

{/*
<Collapse title="Transaction services">
Retrieve transaction information for a specific account or card account, including any applicable balances. This is useful for keeping track of account activity and monitoring financial transactions.
</Collapse>

<Collapse title="Balance services">
Obtain the balances of a particular account or card account. This feature provides real-time information on the available funds in the account and helps users stay updated on their financial status.
</Collapse>

<Collapse title="Available accounts">
View all the accounts associated with their profile or when they want to access specific account details.
</Collapse>

<Collapse title="Account details">
Comprehensive information on a given account or card account. This includes details such as account type, account holder information and any associated permissions or consents.
</Collapse>
*/}

{/* The PSD2 Account Information Service provides consolidated information on one or more payment accounts held by a payment service user with one or more payment service provider(s). {{ className: 'lead' }} */}

{/* The Account Information Service (AIS) offers the following services:

- Transaction reports for a given account.
- Balances of a given account.
- A list of available accounts
- Account details of a given account
- The list of all accessible accounts relative to a granted consent.
*/}

---

## Fetch accounts list {{ tag: 'GET', label: '/v1/accounts' }}

<Row>
  <Col>
    Retrieve a list of accounts associated with a specific user or entity. Access detailed information about each account, including account numbers, currency, balance details and more. 

    <Properties title="Query parameters">
      <Property name="withBalance" type="boolean">
        If included, this function reads the list of accessible payment accounts, including the booking balance. This is only granted if the PSU has given consent in the related consent and if it is available from the ASPSP. 
        <Note>
         The ASPSP might choose to ignore this parameter.
        </Note>
      </Property>    
    </Properties>


    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>      
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentID</span>} type="string">
        The consentId of the related consent, which was performed prior to this payment initiation.
      </Property> 
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>                                  
    </Properties>


    <Properties title="Response atrributes">  
      <Property name="accounts" type="array">
      A list of all the accounts associated. Each account includes:
      - `iban`: The International Bank Account Number (IBAN) associated with the account.
      - `bban`: The Basic Bank Account Number (BBAN) associated with the account.
      - `pan`: The Primary Account Number (PAN) associated with the account.
      - `maskedPan`: The masked Primary Account Number associated with the account.
      - `msisdn`: The Mobile Station International Subscriber Directory Number (MSISDN) associated with the account.
      - `currency`: The currency in which the account operates.
      - `resourceId`: The resource identifier of the account.
      - `name`: The name of the account.
      - `product`: The type of product that the account is associated with.
      - `cashAccountType`: The type of cash account.
      - `status`: The status of the account, indicating whether the account is active or not (integer). Available values: **_0_** = `enabled`, **_1_** = `deleted`, **_2_** = `blocked`.
      - `bic`: The Bank Identifier Code (BIC) object that identifies the bank that the account is held with.
      - `linkedAccounts`: A list of all the linked accounts associated with the account.
      - `usage`: The usage of the account (integer). Available values: **_0_** = `PRIV` (private), **_1_** = `ORGA` (organisation).
      - `details`: A list of all the details associated with the account.
      - `balances`: Balances associated with the account, each including:
        - `balanceAmount`: The amount of funds available for the given balance type. It includes:
          - `currency`: The currency of the balance amount.
          - `Amount`: The amount of funds available for the given balance type.
        - `balanceType`: The type of the balance. Available values: 
          - **_0_** = `closingBooked`
          - **_1_** = `expected`
          - **_2_** = `authorised`
          - **_3_** = `openingBooked`
          - **_4_** = `interimAvailable`
          - **_5_** = `interimBooked`
          - **_6_** = `forwardAvailable`
          - **_7_** = `nonInvoiced`
        - `creditLimitIncluded`: Indicates whether the credit limit is included in the balance.
        - `lastChangeDateTime`: The date and time of the last change made to the account details.
        - `referenceDate`: The date for which the account information is retrieved. If null or empty, consider that reference datetime is equivalent with the datetime that the API call has been made.
        - `lastCommittedTransaction`: Information about the last committed transaction on the account.
      </Property>
      <Property name="links" type="object">
        The `links` parameter provides links to related resources or endpoints that are associated with the account. These links can be used to navigate to additional information or perform specific actions related to the account.
      </Property>
      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the consent information.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent. It includes:
      - `items` (object): The list of items related to the consent information.
      </Property>
      <Property name="statusCode" type="integer">
      The status code of the response.
      </Property>
      <Property name="tppMessages" type="object">
      The list of messages returned from the ASPSP. It includes:
      - `category` : The message category of the error. Available options: **_0_** = `ERROR`, **_1_** = `WARNING`.
      - `code` : The code of the error.
      - `path` : The path associated with the error.
      - `text` : The text associated with the error.
      </Property>
      <Property name="links" type="object">
      Links associated with the error.
      </Property>      

    </Properties>

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/accounts">
      ```bash {{ title: 'cURL' }}
curl -X GET /v1/accounts \
  -H 'Accept: application/json' \
  -H 'X-Request-ID: string' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'consentID: string' \
  -H 'Ocp-Apim-Subscription-Key: string'
      ```

      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Get, "//v1/accounts?withBalance=<boolean>");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("consentID", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());

      ```


      ```php
<?php

require 'vendor/autoload.php';

$headers = array(
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'consentID' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('GET','/v1/accounts', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

      ```

      ```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'consentID' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.get '/v1/accounts',
  params: {
  }, headers: headers

p JSON.parse(result)     
      ```

      ```javascript
const headers = {
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'consentID':'string',
  'Ocp-Apim-Subscription-Key':'string'
};

fetch('/v1/accounts',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});
      ```

      ```python
import requests
headers = {
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'consentID': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.get('/v1/accounts', headers = headers)

print(r.json())
      ```

      ```go
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/accounts?withBalance=%3Cboolean%3E"
  method := "GET"

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, nil)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("consentID", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
} 
      ```     
    
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '200' }}
{
  "accounts": [
    {
      "iban": "",
      "bban": "",
      "pan": "",
      "maskedPan": "",
      "msisdn": "",
      "currency": "",
      "resourceId": "",
      "name": "",
      "product": "",
      "cashAccountType": "",
      "status": 0,
      "bic": "",
      "linkedAccounts": "",
      "usage": 0,
      "details": "",
      "balances": [
        {
          "balanceAmount": {
            "currency": "",
            "Amount": ""
          },
          "balanceType": 0,
          "creditLimitIncluded": false,
          "lastChangeDateTime": "",
          "referenceDate": "",
          "lastCommittedTransaction": ""
        }
      ],
      "links": ""
    }
  ]
}
    ```



    ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '405' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">  

|Status|Description| 
|---|---|
|**200**| <a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank">OK</a> |
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>

---

## Fetch account details {{ tag: 'GET', label: '/v1/accounts/{accountId}'}}

<Row>
  <Col>
    Retrieve a list of accounts associated with a specific user or entity. Access detailed information about each account, including account numbers, currency, balance details and more. 

    <Properties title="Path parameters">
    <Property name={<span style={{ color: 'rgb(255,121,170)' }}>account-id</span>} type="string">
      The unique identifier of the account.
    </Property>
    </Properties>


    <Properties title="Query parameters">
      <Property name="withBalance" type="boolean">
        If included, this function reads the list of accessible payment accounts, including the booking balance. This is only granted if the PSU has given consent in the related consent and if it is available from the ASPSP. 
        <Note>
         The ASPSP might choose to ignore this parameter.
        </Note>
      </Property>    
    </Properties>     

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>      
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentID</span>} type="string">
        The consentId of the related consent, which was performed prior to this payment initiation.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>                                  
    </Properties>
   

    <Properties title="Response atrributes"> 
      <Property name="iban" type="string">
        The International Bank Account Number (IBAN) associated with the account.
      </Property>            
      <Property name="bban" type="string">
        The Basic Bank Account Number (BBAN) associated with the account.
      </Property>
      <Property name="pan" type="string">
        The Primary Account Number (PAN) associated with the account. The PAN is not necessarily a globally unique identifier, but is a value that can be used for a unique account identification.
      </Property>
      <Property name="maskedPan" type="string">
      The masked PAN associated with the account.
      </Property>
      <Property name="msisdn" type="string">
        The Mobile Station International Subscriber Directory Number (MSISDN) associated with the account.
      </Property>
      <Property name="currency" type="string">
        The currency associated with the account.
      </Property>
      <Property name="resourceId" type="string">
        The resource ID associated with the account.
      </Property>
      <Property name="name" type="string">
        The name associated with the account.
      </Property>      
      <Property name="product" type="string">
        The product associated with the account.
      </Property>
      <Property name="cashAccountType" type="string">
        The type of the cash account associated with the account.
      </Property>     
      <Property name="status" type="integer">
        The status of the account. Available values: **_0_**, **_1_**, **_2_**. Possible values: 
        - **_0_** = `enabled`
        - **_1_** = `deleted`
        - **_2_** = `blocked`
      </Property>
      <Property name="bic" type="string">
        The Bank Identifier Code (BIC) associated with the account.
      </Property>
      <Property name="linkedAccounts" type="string">
        The linked accounts associated with the account.
      </Property>      
      <Property name="usage" type="integer">
        The usage of the account. Available values: **_0_**, **_1_**. Available values: **_0_** = `PRIV` (private), **_1_** = `ORGA` (organisation).
      </Property>
      <Property name="details" type="string">
        The details associated with the account.
      </Property>
      <Property name="balances" type="array">
      An array of balance objects, each containing:
      - `balanceAmount`: The amount of funds available for the given balance type (object). It includes:
        -  `currency`: The currency of the balance amount.
        -  `Amount`: The amount of the balance.      
      - `balanceType`: The type of the balance associated with the account. Available options: **_0_** - **_7_**.
         - **0** - Available balance.
         - **1** - Current balance.
         - **2** - Credit limit.
         - **3** - Credit available.
         - **4** - Credit held for payout.
         - **5** - Credit available for payout.
         - **6** - Credit limit for payout.
         - **7** - Credit available for immediate payout.
      - `creditLimitIncluded`: Indicates whether the credit limit is included in the account details information.
      - `lastChangeDateTime`: Contains the date and time of the last change made to the account details.
      - `referenceDate`: The date for which the account information is retrieved. If null or empty, consider that reference datetime is equivalent with the datetime that the API call has been made.
      - `lastCommittedTransaction`: The last committed transaction associated with the account.            
      </Property>
      <Property name="links" type="object">
        The `links` parameter provides links to related resources or endpoints that are associated with the account. These links can be used to navigate to additional information or perform specific actions related to the account.
      </Property>
      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the account information.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent. It includes:
      - `items` (object): The list of items related to the consent information.
      </Property>
      <Property name="statusCode" type="integer">
      The status code of the response.
      </Property>
      <Property name="tppMessages" type="object">
      The list of messages returned from the ASPSP. It includes:
      - `category` (integer): The message category of the error. Available options: **_0_** = `ERROR`, **_1_** = `WARNING`.
      - `code` (integer): The code of the error. 
      - `path` (string): The path associated with the error.
      - `text` (string): The text associated with the error.
      </Property>
      <Property name="links" type="object">
      Links associated with the error.
      </Property>      
    </Properties>

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/accounts/{account-id}">
      ```bash {{ title: 'cURL' }}
curl -X GET /v1/accounts/{account-id} \
  -H 'Accept: application/json' \
  -H 'X-Request-ID: string' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'consentID: string' \
  -H 'Ocp-Apim-Subscription-Key: string'
      ```

      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Get, "//v1/accounts/<string>?withBalance=<boolean>");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("consentID", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());

      ```


      ```php
<?php

require 'vendor/autoload.php';

$headers = array(
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'consentID' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('GET','/v1/accounts/{account-id}', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...
      ```

      ```ruby
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'consentID' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.get '/v1/accounts/{account-id}',
  params: {
  }, headers: headers

p JSON.parse(result)

      ```

      ```js
const headers = {
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'consentID':'string',
  'Ocp-Apim-Subscription-Key':'string'
};

fetch('/v1/accounts/{account-id}',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});
      ```

      ```python
import requests
headers = {
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'consentID': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.get('/v1/accounts/{account-id}', headers = headers)

print(r.json())
      ```

      ```go 
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/accounts/<string>?withBalance=%3Cboolean%3E"
  method := "GET"

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, nil)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("consentID", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}
      ```     
    
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '200' }}
{
  "iban": "",
  "bban": "",
  "pan": "",
  "maskedPan": "",
  "msisdn": "",
  "currency": "",
  "resourceId": "",
  "name": "",
  "product": "",
  "cashAccountType": "",
  "status": 0,
  "bic": "",
  "linkedAccounts": "",
  "usage": 0,
  "details": "",
  "balances": [
    {
      "balanceAmount": {
        "currency": "",
        "Amount": ""
      },
      "balanceType": 0,
      "creditLimitIncluded": false,
      "lastChangeDateTime": "",
      "referenceDate": "",
      "lastCommittedTransaction": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '405' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```    


    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">    

|Status|Description|
|---|---|
|**200**| <a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank">OK</a> |
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>
---

## Fetch account balance {{ tag: 'GET', label: '/v1/accounts/{account-id}/balances' }}

<Row>
  <Col>
    Retrieve balance information for a given account addressed by `account-id`. Access various details such as currency, balance amount and transaction information.

    <Properties title="Path parameters">
      <Property name="account-id" type="string">
        The `account-id` is retrieved by the [Fetch accounts list](#fetch-accounts-list) call and is constant at least throughout the lifecycle of a given consent.
      </Property> 
    </Properties>

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentID</span>} type="string">
        The consentId of the related AIS consent, which was performed prior to this payment initiation.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>            
    </Properties>

    <Properties title="Response atrributes">  
      <Property name="account" type="object">
      The account information associated with the balance. Each account includes:
      - `iban`: The International Bank Account Number (IBAN) associated with the account.
      - `bban`: The Basic Bank Account Number (BBAN) associated with the account.
      - `pan`: The Primary Account Number (PAN) associated with the account.                        
      - `maskedPan`: The masked Primary Account Number associated with the account.
      - `msisdn`: The Mobile Station International Subscriber Directory Number (MSISDN) associated with the account.      
      - `currency`: The currency in which the account operates.
      </Property>
      <Property name="balances" type="object">
      An array of balance objects, each containing:
        - `balanceAmount`: The amount of funds available for the given balance type. It includes:
          - `currency`: The currency of the balance amount.        
          - `Amount`: The amount of funds available for the given balance type.
      - `balanceType`: The type of the balance. Available options: **_0_** - **_7_**.
        - **_0_**: Balance type is unknown.
        - **_1_**: Balance type is a current balance.
        - **_2_**: Balance type is a credit limit.
        - **_3_**: Balance type is a credit available.
        - **_4_**: Balance type is a savings balance.
        - **_5_**: Balance type is a savings available.
        - **_6_**: Balance type is a credit limit and a savings balance.
        - **_7_**: Balance type is a credit limit and a savings available.
      - `creditLimitIncluded`: Indicates whether the credit limit is included in the balance.
      - `lastChangeDateTime`: The date and time of the last change made to the account details.
      - `referenceDate`: The date for which the account information is retrieved. If null or empty, consider that reference datetime is equivalent with the datetime that the API call has been made.
      - `lastCommittedTransaction`: Information about the last committed transaction on the account.       
      </Property>
      <Property name="links" type="object">
        The `links` parameter provides links to related resources or endpoints that are associated with the account. These links can be used to navigate to additional information or perform specific actions related to the account.
      </Property>
      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the balance information.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent. It includes:
      - `items` (object): The list of items related to the consent information.
      </Property>
      <Property name="statusCode" type="integer">
      The status code of the response.
      </Property>
      <Property name="tppMessages" type="object">
      The list of messages returned from the ASPSP. It includes:
      - `category` (integer): The message category of the error. Available options: **_0_**, **_1_**.
        - **_0_**: The message category is unknown.
        - **_1_**: The message category is information.
      - `code` (integer): The code of the error. Available options:
        - **_0_**: The code is unknown.
        - **_1_**: The code is generic.
        - **_2_**: The code is invalid.
        - **_3_**: The code is invalid consent.
        - **_4_**: The code is invalid consent state.
        - **_5_**: The code is invalid account access.
        - **_6_**: The code is invalid consent type.
        - **_7_**: The code is invalid consent frequency.
        - **_8_**: The code is invalid consent execution date.
        - **_9_**: The code is invalid consent execution frequency.
        - **_10_**: The code is invalid consent amount.
        - **_11_**: The code is invalid consent currency.
        - **_12_**: The code is invalid consent account.
      - `path` (string): The path associated with the error.
      - `text` (string): The text associated with the error.
      </Property>
      <Property name="links" type="object">
      Links associated with the error.
      </Property>         
    </Properties>

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/accounts/{account-id}/balances">
      ```bash {{ title: 'cURL' }}
curl -X GET /v1/accounts/{account-id}/balances \
  -H 'Accept: application/json' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'x-Request-ID: string' \
  -H 'consentID: string' \
  -H 'Ocp-Apim-Subscription-Key: string'
      ```


      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Get, "//v1/accounts/<string>/balances");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("consentID", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());

      ```

      ```php {{ title: 'PHP' }}
<?php

require 'vendor/autoload.php';

$headers = array(
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'consentID' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('GET','/v1/accounts/{account-id}/balances', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...
      ```

      ```ruby {{ title: 'Ruby' }}
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'consentID' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.get '/v1/accounts/{account-id}/balances',
  params: {
  }, headers: headers

p JSON.parse(result)
      ```



      ```javascript {{ title: 'Javascript' }}
const headers = {
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'consentID':'string',
  'Ocp-Apim-Subscription-Key':'string'
};

fetch('/v1/accounts/{account-id}/balances',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});
      ```


      ```python {{ title: 'Python' }}
import requests
headers = {
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'consentID': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.get('/v1/accounts/{account-id}/balances', headers = headers)

print(r.json())
      ```

      ```go
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/accounts/<string>/balances"
  method := "GET"

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, nil)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("consentID", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}
      ```      

     
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '200' }}
{
  "account": {
    "iban": "",
    "bban": "",
    "pan": "",
    "maskedPan": "",
    "msisdn": "",
    "currency": ""
  },
  "balances": [
    {
      "balanceAmount": {
        "currency": "",
        "Amount": ""
      },
      "balanceType": 0,
      "creditLimitIncluded": false,
      "lastChangeDateTime": "",
      "referenceDate": "",
      "lastCommittedTransaction": ""
    }
  ]
}
    ```

    ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '405' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```


    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">

|Status|Description|
|---|---|
|**200**| <a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank">OK</a> |
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>

---

## Fetch account transactions {{ tag: 'GET', label: '/v1/accounts/{account-id}/transactions?bookingStatus=string' }}

<Row>
  <Col>
    {/*Retrieve transaction reports or lists for a specific account. Specify additional parameters such as date range and booking status to filter the results. The API response includes detailed information about each transaction, including amounts, dates and account details.*/}

    Retrieve a list of transactions associated with a specific account.
    
    <Note>
    Access detailed information such as transaction IDs, dates, amounts, creditor / debtor details and balance amounts. 
    </Note>


    <Properties title="Path parameters">
      <Property name="account-id" type="string">
        The `account-id` is retrieved by the [Fetch accounts list](#fetch-accounts-list) call and is constant at least throughout the lifecycle of a given consent.
      </Property> 
    </Properties>

    <Properties title="Query parameters">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>bookingStatus</span>} type="string">
      Filter the transactions by booking status. Available options: **_booked_**.
      </Property> 
      <Property name="dateFrom" type="string">
      Starting date of the transaction list, mandated if no delta access is required. For booked transactions, the relevant date is the booking date. 
      </Property> 
      <Property name="dateTo" type="string">
      Ending date of the transaction list, mandated if no delta access is required. For booked transactions, the relevant date is the booking date.
      </Property> 
      <Property name="withBalance" type="boolean">
        If contained, this function reads the list of accessible payment accounts including the booking balance, if granted by the PSU in the related consent and available by the ASPSP.  This parameter might be ignored by the ASPSP.
      </Property>                                                          
    </Properties>     

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>     
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentID</span>} type="string">
        The consentId of the related AIS consent, which was performed prior to this payment initiation.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>                                     
    </Properties>



    <Properties title="Response attributes">
      <Property name="account" type="object">
      A list of items associated to an account. Each account includes:
      - `iban`: The IBAN of the account.       
      - `bban`: The Basic Bank Account Number of the account. 
      - `pan`: The Primary Account Number, equivalent to the card number for a card account. 
      - `maskedPan`: The Primary Account Number masked with all but the last 4 characters. 
      - `msisdn`: The Mobile Station Integrated Services Digital Network Number, a phone number associated with the account.                  
      - `currency`:  The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
      </Property>
      <Property name="transactions" type="object">
      An array of transaction objects, where each object includes:
      - `booked`: Data related to a booked transaction, including:
      - `transactionId`: The transaction identifier.
      - `entryReference`: A reference to identify the transaction.
      - `endToEndId`: The end-to-end identifier of the transaction.
      - `mandateId`: The mandate identifier of the transaction.
      - `checkId`: The check identifier of the transaction.
      - `creditorId`: The creditor identifier of the transaction.
      - `bookingDate`: The date the transaction was processed on the bank account.
      - `valueDate`: The date and time of the transaction.
      - `transactionAmount`: The amount of the transaction as a string with decimal separator. It includes:
          - `currency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
          - `Amount`: The amount of the transaction as a string with decimal separator.  
        - `currencyExchange`: The currency exchange rate and amount, including:
          - `sourceCurrency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR). 
          - `exchangeRate`: The exchange rate for the transaction. 
          - `unitCurrency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).  
          - `targetCurrency`: The currency type for the exchange rate, following ISO 4217 standard (e.g., USD, EUR). 
          - `quotationDate`: The date the exchange rate was quoted.
          - `contractIdentification`: The contract identification for the exchange rate. 
        - `creditorName`: The name of the creditor.
        - `creditorAccount`: The account of the creditor, including:
          - `iban`: The IBAN of the creditor.
          - `bban`: The Basic Bank Account Number of the creditor.
          - `pan`: The Primary Account Number of the creditor.
          - `maskedPan`: The Primary Account Number masked with all but the last 4 characters.
          - `msisdn`: The Mobile Station Integrated Services Digital Network Number of the creditor. 
          - `currency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
        - `ultimateCreditor`: The ultimate creditor of the transaction.
        - `debtorName`: The name of the debtor.
        - `debtorAccount`: The account of the debtor, including:
          - `iban`: The IBAN of the debtor.
          - `bban`: The Basic Bank Account Number of the debtor.
          - `pan`: The Primary Account Number of the debtor.
          - `maskedPan`: The Primary Account Number masked with all but the last 4 characters.
          - `msisdn`: The Mobile Station Integrated Services Digital Network Number of the debtor. 
          - `currency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).       
        - `ultimateDebtor`: The ultimate debtor of the transaction.
        - `remittanceInformationUnstructured`: The unstructured remittance information.         
        - `remittanceInformationStructured`: The structured remittance information.
        - `additionalInformation`: Additional information related to the transaction.
        - `purposeCode`: The purpose code of the transaction (integer). Available options: **_0_** -**_285_**.
        - `bankTransactionCode`: The bank transaction code of the transaction.
        - `proprietaryBankTransactionCode`: The proprietary bank transaction code of the transaction.
        - `links`: Links to related resources or endpoints associated with the transaction.
      - `pending`: Data related to a pending transaction, including:
        - `transactionId`: The transaction identifier.
        - `entryReference`: A reference to identify the transaction.
        - `endToEndId`: The end-to-end identifier of the transaction.
        - `mandateId`: The mandate identifier of the transaction.
        - `checkId`: The check identifier of the transaction.
        - `creditorId`: The creditor identifier of the transaction.
        - `bookingDate`: The date the transaction was processed on the bank account.
        - `valueDate`: The date of the transaction.
        - `transactionAmount`: The amount of the transaction as a string with decimal separator. It includes:
          - `currency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
          - `Amount`: The amount of the transaction as a string with decimal separator.
        - `currencyExchange`: The currency exchange rate and amount, including:
          - `sourceCurrency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
          - `exchangeRate`: The exchange rate for the transaction.
          - `unitCurrency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
          - `targetCurrency`: The currency type for the exchange rate, following ISO 4217 standard (e.g., USD, EUR).
          - `quotationDate`: The date the exchange rate was quoted.
          - `contractIdentification`: The contract identification for the exchange rate.
        - `creditorName`: The name of the creditor.
        - `creditorAccount`: The account of the creditor, including:
          - `iban`: The IBAN of the creditor.
          - `bban`: The Basic Bank Account Number of the creditor.
          - `pan`: The Primary Account Number of the creditor.
          - `maskedPan`: The Primary Account Number masked with all but the last 4 characters.
          - `msisdn`: The Mobile Station Integrated Services Digital Network Number of the creditor.
          - `currency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
        - `ultimateCreditor`: The ultimate creditor of the transaction.
        - `debtorName`: The name of the debtor.
        - `debtorAccount`: The account of the debtor, including:
          - `iban`: The IBAN of the debtor.
          - `bban`: The Basic Bank Account Number of the debtor.
          - `pan`: The Primary Account Number of the debtor.
          - `maskedPan`: The Primary Account Number masked with all but the last 4 characters.
          - `msisdn`: The Mobile Station Integrated Services Digital Network Number of the debtor.
          - `currency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
        - `ultimateDebtor`: The ultimate debtor of the transaction.
        - `remittanceInformationUnstructured`: The unstructured remittance information.
        - `remittanceInformationStructured`: The structured remittance information.
        - `additionalInformation`: Additional information related to the transaction.
        - `purposeCode`: The purpose code of the transaction (integer). Available options: **_0_** -**_285_**.
        - `bankTransactionCode`: The bank transaction code of the transaction.
        - `proprietaryBankTransactionCode`: The proprietary bank transaction code of the transaction.
        - `links`: Links to related resources or endpoints associated with the transaction.
      </Property>
      <Property name="balances" type="object">
      The balance of the account after the transaction, including:
        - `balanceAmount`: The amount of funds available for the given balance type.
          - `currency`: The currency of the balance amount.        
          - `Amount`: The amount of funds available for the given balance type.
        - `balanceType`: The type of the balance, i.e. booked or available.
        - `creditLimitIncluded`: Indicates whether the credit limit is included in the balance.
        - `lastChangeDateTime`: The date and time of the last change made to the account details.
        - `referenceDate`: The date for which the account information is retrieved. If null or empty, consider that reference datetime is equivalent with the datetime that the API call has been made.    
        - `lastCommittedTransaction`: Information about the last committed transaction on the account.        
      </Property>
      <Property name="links" type="object">            
      Links to related resources or endpoints associated with the balance.
      </Property>             
      <Property name="links" type="object">
      Links to related resources or endpoints associated with the transaction.
      </Property>
      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the transaction information.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent, including:
      - `items`: The list of items associated with the consent.
      </Property>
      <Property name="statusCode" type="integer">
      The status code of the response. Available options: **_0_** -**_285_**.
      </Property>
      <Property name="tppMessages" type="string">
      The list of TPP messages associated with the consent, including:
      - `category`: The category of the message.
      - `code`: The code of the message.
      - `path`: The path of the message.
      - `text`: The text of the message.
      </Property>
    </Properties>

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/accounts/{account-id}/transactions?bookingStatus=string">
      ```bash {{ title: 'cURL' }}
curl -X GET /v1/accounts/{account-id}/transactions?bookingStatus=string \
  -H 'Accept: application/json' \
  -H 'x-Request-ID: string' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'consentID: string' \
  -H 'Ocp-Apim-Subscription-Key: string'
      ```

      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Get, "//v1/accounts/<string>/transactions?bookingStatus=<string>&dateFrom=<dateTime>&dateTo=<dateTime>&entryReferenceFrom=<string>&deltaList=<boolean>&withBalance=<boolean>");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("consentID", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());

      ```

      ```php {{ title: 'PHP' }}
<?php

require 'vendor/autoload.php';

$headers = array(
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'consentID' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('GET','/v1/accounts/{account-id}/transactions', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

      ```

      ```ruby {{ title: 'Ruby' }}
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'consentID' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.get '/v1/accounts/{account-id}/transactions',
  params: {
  'bookingStatus' => 'string'
}, headers: headers

p JSON.parse(result)
      ```



      ```javascript {{ title: 'Javascript' }}
const headers = {
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'consentID':'string',
  'Ocp-Apim-Subscription-Key':'string'
};

fetch('/v1/accounts/{account-id}/transactions?bookingStatus=string',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});
      ```


      ```python {{ title: 'Python' }}
import requests
headers = {
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'consentID': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.get('/v1/accounts/{account-id}/transactions', params={
  'bookingStatus': 'string'
}, headers = headers)

print(r.json())
      ```

      ```go
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/accounts/<string>/transactions?bookingStatus=%3Cstring%3E&dateFrom=%3CdateTime%3E&dateTo=%3CdateTime%3E&entryReferenceFrom=%3Cstring%3E&deltaList=%3Cboolean%3E&withBalance=%3Cboolean%3E"
  method := "GET"

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, nil)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("consentID", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}
      ```      

     
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '200' }}
{
  "account": {
    "iban": "",
    "bban": "",
    "pan": "",
    "maskedPan": "",
    "msisdn": "",
    "currency": ""
  },
  "transactions": {
    "booked": [
      {
        "transactionId": "",
        "entryReference": "",
        "endToEndId": "",
        "mandateId": "",
        "checkId": "",
        "creditorId": "",
        "bookingDate": "",
        "valueDate": "",
        "transactionAmount": {
          "currency": "",
          "Amount": ""
        },
        "currencyExchange": [
          {
            "sourceCurrency": "",
            "exchangeRate": "",
            "unitCurrency": "",
            "targetCurrency": "",
            "quotationDate": "",
            "contractIdentification": ""
          }
        ],
        "creditorName": "",
        "creditorAccount": {
          "iban": "",
          "bban": "",
          "pan": "",
          "maskedPan": "",
          "msisdn": "",
          "currency": ""
        },
        "ultimateCreditor": "",
        "debtorName": "",
        "debtorAccount": {
          "iban": "",
          "bban": "",
          "pan": "",
          "maskedPan": "",
          "msisdn": "",
          "currency": ""
        },
        "ultimateDebtor": "",
        "remittanceInformationUnstructured": "",
        "remittanceInformationStructured": "",
        "additionalInformation": "",
        "purposeCode": 0,
        "bankTransactionCode": "",
        "proprietaryBankTransactionCode": "",
        "links": ""
      }
    ],
    "pending": [
      {
        "transactionId": "",
        "entryReference": "",
        "endToEndId": "",
        "mandateId": "",
        "checkId": "",
        "creditorId": "",
        "bookingDate": "",
        "valueDate": "",
        "transactionAmount": {
          "currency": "",
          "Amount": ""
        },
        "currencyExchange": [
          {
            "sourceCurrency": "",
            "exchangeRate": "",
            "unitCurrency": "",
            "targetCurrency": "",
            "quotationDate": "",
            "contractIdentification": ""
          }
        ],
        "creditorName": "",
        "creditorAccount": {
          "iban": "",
          "bban": "",
          "pan": "",
          "maskedPan": "",
          "msisdn": "",
          "currency": ""
        },
        "ultimateCreditor": "",
        "debtorName": "",
        "debtorAccount": {
          "iban": "",
          "bban": "",
          "pan": "",
          "maskedPan": "",
          "msisdn": "",
          "currency": ""
        },
        "ultimateDebtor": "",
        "remittanceInformationUnstructured": "",
        "remittanceInformationStructured": "",
        "additionalInformation": "",
        "purposeCode": 0,
        "bankTransactionCode": "",
        "proprietaryBankTransactionCode": "",
        "links": ""
      }
    ],
    "links": ""
  },
  "balances": [
    {
      "balanceAmount": {
        "currency": "",
        "Amount": ""
      },
      "balanceType": 0,
      "creditLimitIncluded": false,
      "lastChangeDateTime": "",
      "referenceDate": "",
      "lastCommittedTransaction": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '405' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    

    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">

|Status|Description|
|---|---|
|**200**| <a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank">OK</a> |
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>

---

## Fetch transaction details {{ tag: 'GET', label: '/v1/accounts/{account-id}/transactions/{transactionId}' }}

<Row>
  <Col>
    Retrieve specific information about a transaction (transaction amount, currency exchange details, creditor / debtor info) on a given account addressed by `account-id`.
    
    <Important>
    Gain insights into individual transactions within an account.
    </Important>

    <Properties title="Path parameters">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>account-id</span>} type="string">
        The `account-id` is retrieved by the [Fetch accounts list](#fetch-accounts-list) call and is constant at least throughout the lifecycle of a given consent.
      </Property> 
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>transactionId</span>} type="string">
      ID of the transaction that needs to be retrieved.
      </Property>
    </Properties>

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>      
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentID</span>} type="string">
        The consentId of the related AIS consent, which was performed prior to this payment initiation.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>      
    </Properties>


    <Properties title="Response attributes">
      <Property name="transactionId" type="string">
        The unique identifier of the transaction.
      </Property>
      <Property name="entryReference" type="string">
        A reference to identify the transaction.
      </Property>
      <Property name="endToEndId" type="string">
        The end-to-end identifier of the transaction.
      </Property>
      <Property name="mandateId" type="string">
        The mandate identifier of the transaction.
      </Property>
      <Property name="checkId" type="string">
        The check identifier of the transaction.
      </Property>
      <Property name="creditorId" type="string">
        The creditor identifier of the transaction.
      </Property>
      <Property name="bookingDate" type="string">
        The date the transaction was processed on the bank account.
      </Property>
      <Property name="valueDate" type="string">
        The date the funds left/were received in the account.
      </Property>
      <Property name="transactionAmount" type="object">
        The amount of the transaction as a string with decimal separator.
          - `currency`: the currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).        
          - `Amount`: the amount of the transaction as a string with decimal separator. 
      </Property>
      <Property name="currencyExchange" type="array">
        The currency exchange rate and amount.
        - `sourceCurrency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
        - `exchangeRate`: The exchange rate for the transaction.          
        - `unitCurrency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
        - `targetCurrency`: The currency type for the exchange rate, following ISO 4217 standard (e.g., USD, EUR).
        - `quotationDate`: The date the exchange rate was quoted.
        - `contractIdentification`: The contract identification for the exchange rate.
      </Property>
      <Property name="creditorName" type="string">
        The name of the creditor.
      </Property>
      <Property name="creditorAccount" type="object">
        The account of the creditor, including:
        - `iban`: The IBAN of the creditor.
        - `bban`: The Basic Bank Account Number of the creditor.
        - `pan`: The Primary Account Number of the creditor.
        - `maskedPan`: The Primary Account Number masked with all but the last 4 characters.
        - `msisdn`: The Mobile Station Integrated Services Digital Network Number of the creditor.
        - `currency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
      </Property>
      <Property name="ultimateCreditor" type="string">
        The ultimate creditor of the transaction.
      </Property>
      <Property name="debtorName" type="string">
        The name of the debtor.
      </Property>
      <Property name="debtorAccount" type="object">
        The account of the debtor, including:
        - `iban`: The IBAN of the debtor.
        - `bban`: The Basic Bank Account Number of the debtor.
        - `pan`: The Primary Account Number of the debtor.
        - `maskedPan`: The Primary Account Number masked with all but the last 4 characters.
        - `msisdn`: The Mobile Station Integrated Services Digital Network Number of the debtor.
        - `currency`: The currency type for the transaction, following ISO 4217 standard (e.g., USD, EUR).
      </Property>
      <Property name="ultimateDebtor" type="string">
        The ultimate debtor of the transaction.
      </Property>
      <Property name="remittanceInformationUnstructured" type="string">
        The unstructured remittance information.
      </Property>
      <Property name="remittanceInformationStructured" type="string">
        The structured remittance information.
      </Property>
      <Property name="additionalInformation" type="string">
        Additional information about the transaction.
      </Property>
      <Property name="purposeCode" type="integer">
        The purpose code of the transaction. Available options: **_0_** - **_285_**.
      </Property>
      <Property name="bankTransactionCode" type="string">
        The bank transaction code of the transaction.
      </Property>
      <Property name="proprietaryBankTransactionCode" type="string">
        The proprietary bank transaction code of the transaction.
      </Property>
      <Property name="links" type="object">
        Links of information related to the booked transaction.
      </Property>
      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the consent information.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent. It includes:
      - `items` (object): The list of items related to the consent information.
      </Property>
      <Property name="statusCode" type="integer">
      The status code of the consent. 
      </Property>
      <Property name="tppMessages" type="object">
      The list of messages returned from the ASPSP. It includes:
      - `category` (integer): The message category of the error. Available options: **_0_**, **_1_**.
      - `code` (integer): The code of the error. 
      - `path` (string): The path associated with the error.
      - `text` (string): The text associated with the error.
      </Property>
      <Property name="links" type="object">
      Links associated with the error.
      </Property>                                                  
    </Properties>

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/accounts/{account-id}/transactions/{transactionId}">
      ```bash {{ title: 'cURL' }}
curl -X GET /v1/accounts/{account-id}/transactions/{transactionId} \
  -H 'Accept: application/json' \
  -H 'x-Request-ID: string' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'consentID: string' \
  -H 'Ocp-Apim-Subscription-Key: string'
      ```

      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Get, "//v1/accounts/<string>/transactions/<string>");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("consentID", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());

      ```

      ```php {{ title: 'PHP' }}
<?php

require 'vendor/autoload.php';

$headers = array(
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'consentID' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('GET','/v1/accounts/{account-id}/transactions/{transactionId}', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...
      ```

      ```ruby {{ title: 'Ruby' }}
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'consentID' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.get '/v1/accounts/{account-id}/transactions/{transactionId}',
  params: {
  }, headers: headers

p JSON.parse(result)
      ```


      ```javascript {{ title: 'Javascript' }}
const headers = {
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'consentID':'string',
  'Ocp-Apim-Subscription-Key':'string'
};

fetch('/v1/accounts/{account-id}/transactions/{transactionId}',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});
      ```


      ```python {{ title: 'Python' }}
import requests
headers = {
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'consentID': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.get('/v1/accounts/{account-id}/transactions/{transactionId}', headers = headers)

print(r.json())
      ```

      ```go
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/accounts/<string>/transactions/<string>"
  method := "GET"

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, nil)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("consentID", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}
      ```      

     
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '200' }}
{
  "transactionId": "",
  "entryReference": "",
  "endToEndId": "",
  "mandateId": "",
  "checkId": "",
  "creditorId": "",
  "bookingDate": "",
  "valueDate": "",
  "transactionAmount": {
    "currency": "",
    "Amount": ""
  },
  "currencyExchange": [
    {
      "sourceCurrency": "",
      "exchangeRate": "",
      "unitCurrency": "",
      "targetCurrency": "",
      "quotationDate": "",
      "contractIdentification": ""
    }
  ],
  "creditorName": "",
  "creditorAccount": {
    "iban": "",
    "bban": "",
    "pan": "",
    "maskedPan": "",
    "msisdn": "",
    "currency": ""
  },
  "ultimateCreditor": "",
  "debtorName": "",
  "debtorAccount": {
    "iban": "",
    "bban": "",
    "pan": "",
    "maskedPan": "",
    "msisdn": "",
    "currency": ""
  },
  "ultimateDebtor": "",
  "remittanceInformationUnstructured": "",
  "remittanceInformationStructured": "",
  "additionalInformation": "",
  "purposeCode": 0,
  "bankTransactionCode": "",
  "proprietaryBankTransactionCode": "",
  "links": ""
}
    ```

    ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '405' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```



    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">

|Status|Description|
|---|---|
|**200**| <a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank">OK</a> |
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>

---

## Create consent {{ tag: 'POST', label: '/v1/consents' }}

<Row>
  <Col>
    Create a consent that defines access rights to dedicated accounts.
    
    <Note>
    This is the first step in the process where the Third-Party Provider (TPP) requests access to a user account.
    </Note>

    <Important>
    Create a new consent request and automatically expire any existing consent for recurring access on account information for the addressed PSU.
    </Important>

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party. 
      </Property>        
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>PSU_ID</span>} type="string">
        The PSU's ID, as determined by the PSU. This ID is the identification of the PSU within the ASPSP and should contain the web user's username that requests the consent or initiates the payment.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>      
    </Properties>

    <Properties title="Body parameters">
      <Property name="access" type="object">
        The access information granted with the consent, including:
        - `accounts` (array): The accounts linked to the consent. It includes:
          - `iban` (string): The International Bank Account Number (IBAN) provided in the request body.        
          - `bban` (string): The Basic Bank Account Number (BBAN) provided in the request body. 
          - `pan` (string): The Primary Bank Account Number (PAN) provided in the request body. 
          - `maskedPan` (string): The masked PAN provided in the request body.  
          - `msisdn` (string): The Mobile Subscriber Integrated Services Digital Network (MSISDN) provided in the request body.                           
          - `currency` (string): The currency of the account.                
      </Property>
      <Property name="balances" type="array">
        The balances of the accounts that the consent is granted for. It includes:
        - `iban` (string): The International Bank Account Number (IBAN) of the account.        
        - `bban` (string): The Basic Bank Account Number (BBAN) of the account. 
        - `pan` (string): The Primary Account Number (PAN) of the account.  
        - `maskedPan` (string): The masked Primary Account Number of the account. 
        - `msisdn` (string): The Mobile Station International Subscriber Directory Number of the account.                     
        - `currency` (string): The currency of the account.               
      </Property>
      <Property name="transactions" type="array">
        The transactions associated with the consent. It includes:
        - `iban` (string): The International Bank Account Number (IBAN) associated with the consent.        
        - `bban` (string): The Basic Bank Account Number(BBAN) associated with the consent.
        - `pan` (string): The Primary Account Number (PAN) associated with the consent. 
        - `maskedPan` (string): The masked Primary Account Number associated with the consent.
        - `msisdn` (string): The Mobile Station International Subscriber Directory Number associated with the consent.                 
        - `currency` (string): The currency in which the consent is created.                
      </Property>
      <Property name="availableAccounts" type="string">
      Indicates if the consent is for all available accounts. (optional) \
      Available options: **_allAccounts_** (when used the accounts, balances and transactions are empty)
      </Property>
      <Property name="availableAccountsWithBalance" type="string">
      Indicates if the consent is for all available accounts with balances. (optional) \
      Available options: **_allAccounts_** (when used the accounts, balances and transactions are empty)
      </Property>                 
      <Property name="allPsd2" type="string">
      Indicates if the consent is for all Payment Services Directive 2 (PSD2) services. (optional) \
      Available options: **_allAccounts_** (when used the accounts, balances and transactions are empty)
      </Property>
      <Property name="recurringIndicator" type="boolean">
      Indicator specifying whether the consent is for recurring payments.
      </Property>
      <Property name="validUntil" type="date-time">
      The date and time until the consent is valid.
      </Property>
      <Property name="frequencyPerDay" type="integer">
      The maximum frequency of payments per day allowed by the consent.
      </Property> 
      <Property name="combinedServiceIndicator" type="boolean">
      Indicator specifying whether a combined service is requested.
      </Property>
    </Properties>  


    <Properties title="Response attributes">
      <Property name="consentStatus" type="string">
      The status of the consent. \
      Available options: **_0_** (received), **_1_**(rejected), **_2_**(valid), **_3_**(revokedByPsu), **_4_**(expired) or **_5_**(terminatedByTpp).
      </Property>
      <Property name="consentId" type="string">
      The consent ID. It is a unique identifier for the consent.
      </Property>
      <Property name="scaMethods" type="string">
      The list of available SCA methods. It includes:
      - `authenticationType` (string): The authentication method type.
      - `authenticationVersion` (string): The authentication method version.      
      - `authenticationMethodId` (string): The authentication method ID.      
      - `name` (string): The authentication method name.
      - `explanation` (string): The authentication method description.
      </Property>
      <Property name="chosenScaMethod" type="string">
      The chosen SCA method. It includes:
      - `authenticationType` (string): The authentication method type.
      - `authenticationVersion` (string): The authentication method version.      
      - `authenticationMethodId` (string): The authentication method ID.      
      - `name` (string): The authentication method name.
      - `explanation` (string): The authentication method description.
      </Property>
      <Property name="challengeData" type="array">
      The challenge data. It includes:
      - `image` (string): The challenge image.
      - `data` (string): The challenge data.
      </Property>
      <Property name="imageLink" type="string">
      The link to the challenge image.
      </Property>
      <Property name="otpMaxLength" type="integer">
      The maximum length of the OTP.
      </Property>
      <Property name="otpFormat" type="integer">
      The format of the OTP.
      </Property>                  
      <Property name="links" type="object">
      Links associated with the response.
      </Property>
      <Property name="message" type="string">
      The message related to the consent.
      </Property>
      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the consent information.
      </Property>
      <Property name="links" type="object">
      The links associated with the error.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent, including:
      - `items` (object): The list of items related to the consent information.
      </Property>
      <Property name="statusCode" type="integer">
      The status code of the consent.
      </Property>
      <Property name="tppMessages" type="object">
      The list of messages returned from the ASPSP. It includes:
      - `category` (integer): The message category of the error. Available options: **_0_**, **_1_**.
      - `code` (integer): The code of the error. 
      - `path` (string): The path associated with the error.
      - `text` (string): The text associated with the error.
      </Property>                                                                              
    </Properties>

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="POST" label="/v1/consents">
      ```bash {{ title: 'cURL' }}
  -H 'Content-Type: application/json' \
  -H 'Accept: application/json' \
  -H 'X-Request-ID: string' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'PSU_ID: string' \
  -H 'Ocp-Apim-Subscription-Key: string' \
  -d '{"access":{"accounts":[{"bban":"string","currency":"string","iban":"string","maskedPan":"string","msisdn":"string","pan":"string"}],"allPsd2":"string","availableAccounts":"string","availableAccountsWithBalance":"string","balances":[{"bban":"string","currency":"string","iban":"string","maskedPan":"string","msisdn":"string","pan":"string"}],"transactions":[{"bban":"string","currency":"string","iban":"string","maskedPan":"string","msisdn":"string","pan":"string"}]},"combinedServiceIndicator":true,"frequencyPerDay":42,"recurringIndicator":true,"validUntil":"2024-05-04"}'
      ```


      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Post, "//v1/consents");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("PSU_ID", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var content = new StringContent("{\n  \"access\": {\n    \"accounts\": [\n      {\n        \"currency\": \"<string>\",\n        \"iban\": \"<string>\",\n        \"bban\": \"<string>\",\n        \"pan\": \"<string>\",\n        \"maskedPan\": \"<string>\",\n        \"msisdn\": \"<string>\"\n      },\n      {\n        \"currency\": \"<string>\",\n        \"iban\": \"<string>\",\n        \"bban\": \"<string>\",\n        \"pan\": \"<string>\",\n        \"maskedPan\": \"<string>\",\n        \"msisdn\": \"<string>\"\n      }\n    ],\n    \"balances\": [\n      {\n        \"currency\": \"<string>\",\n        \"iban\": \"<string>\",\n        \"bban\": \"<string>\",\n        \"pan\": \"<string>\",\n        \"maskedPan\": \"<string>\",\n        \"msisdn\": \"<string>\"\n      },\n      {\n        \"currency\": \"<string>\",\n        \"iban\": \"<string>\",\n        \"bban\": \"<string>\",\n        \"pan\": \"<string>\",\n        \"maskedPan\": \"<string>\",\n        \"msisdn\": \"<string>\"\n      }\n    ],\n    \"transactions\": [\n      {\n        \"currency\": \"<string>\",\n        \"iban\": \"<string>\",\n        \"bban\": \"<string>\",\n        \"pan\": \"<string>\",\n        \"maskedPan\": \"<string>\",\n        \"msisdn\": \"<string>\"\n      },\n      {\n        \"currency\": \"<string>\",\n        \"iban\": \"<string>\",\n        \"bban\": \"<string>\",\n        \"pan\": \"<string>\",\n        \"maskedPan\": \"<string>\",\n        \"msisdn\": \"<string>\"\n      }\n    ],\n    \"availableAccounts\": \"<string>\",\n    \"availableAccountsWithBalance\": \"<string>\",\n    \"allPsd2\": \"<string>\"\n  },\n  \"combinedServiceIndicator\": \"<boolean>\",\n  \"frequencyPerDay\": \"<integer>\",\n  \"recurringIndicator\": \"<boolean>\",\n  \"validUntil\": \"<date>\"\n}", null, "application/json");
request.Content = content;
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());

      ```

      ```php {{ title: 'PHP' }}
<?php

require 'vendor/autoload.php';

$headers = array(
    'Content-Type' => 'application/json',
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'PSU_ID' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('POST','/v1/consents', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

      ```

      ```ruby {{ title: 'Ruby' }}
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'PSU_ID' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.post '/v1/consents',
  params: {
  }, headers: headers

p JSON.parse(result)
      ```

      ```javascript {{ title: 'Javascript' }}
const inputBody = '{
  "access": {
    "accounts": [
      {
        "iban": "string",
        "bban": "string",
        "pan": "string",
        "maskedPan": "string",
        "msisdn": "string",
        "currency": "string"
      }
    ],
    "balances": [
      {
        "iban": "string",
        "bban": "string",
        "pan": "string",
        "maskedPan": "string",
        "msisdn": "string",
        "currency": "string"
      }
    ],
    "transactions": [
      {
        "iban": "string",
        "bban": "string",
        "pan": "string",
        "maskedPan": "string",
        "msisdn": "string",
        "currency": "string"
      }
    ],
    "availableAccounts": "string",
    "availableAccountsWithBalance": "string",
    "allPsd2": "string"
  },
  "recurringIndicator": true,
  "validUntil": "string",
  "frequencyPerDay": integer,
  "combinedServiceIndicator": true
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'PSU_ID':'string',
  'Ocp-Apim-Subscription-Key':'string'
};

fetch('/v1/consents',
{
  method: 'POST',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});
      ```


      ```python {{ title: 'Python' }}
import requests
headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'PSU_ID': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.post('/v1/consents', headers = headers)

print(r.json())

      ```

      ```go
package main

import (
  "fmt"
  "strings"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/consents"
  method := "POST"

  payload := strings.NewReader(`{
  "access": {
    "accounts": [
      {
        "currency": "<string>",
        "iban": "<string>",
        "bban": "<string>",
        "pan": "<string>",
        "maskedPan": "<string>",
        "msisdn": "<string>"
      },
      {
        "currency": "<string>",
        "iban": "<string>",
        "bban": "<string>",
        "pan": "<string>",
        "maskedPan": "<string>",
        "msisdn": "<string>"
      }
    ],
    "balances": [
      {
        "currency": "<string>",
        "iban": "<string>",
        "bban": "<string>",
        "pan": "<string>",
        "maskedPan": "<string>",
        "msisdn": "<string>"
      },
      {
        "currency": "<string>",
        "iban": "<string>",
        "bban": "<string>",
        "pan": "<string>",
        "maskedPan": "<string>",
        "msisdn": "<string>"
      }
    ],
    "transactions": [
      {
        "currency": "<string>",
        "iban": "<string>",
        "bban": "<string>",
        "pan": "<string>",
        "maskedPan": "<string>",
        "msisdn": "<string>"
      },
      {
        "currency": "<string>",
        "iban": "<string>",
        "bban": "<string>",
        "pan": "<string>",
        "maskedPan": "<string>",
        "msisdn": "<string>"
      }
    ],
    "availableAccounts": "<string>",
    "availableAccountsWithBalance": "<string>",
    "allPsd2": "<string>"
  },
  "combinedServiceIndicator": "<boolean>",
  "frequencyPerDay": "<integer>",
  "recurringIndicator": "<boolean>",
  "validUntil": "<string>"
}`)

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, payload)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("PSU_ID", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Content-Type", "application/json")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}
      ```      

     
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '201' }}
{
  "consentStatus": 0,
  "consentId": "",
  "scaMethods": [
    {
      "authenticationType": 0,
      "authenticationVersion": "",
      "authenticationMethodId": "",
      "name": "",
      "explanation": ""
    }
  ],
  "chosenScaMethod": {
    "authenticationType": 0,
    "authenticationVersion": "",
    "authenticationMethodId": "",
    "name": "",
    "explanation": ""
  },
  "challengeData": {
    "image": "",
    "data": [
      ""
    ],
    "imageLink": "",
    "otpMaxLength": "",
    "otpFormat": 0,
    "additionalInformation": ""
  },
  "links": "",
  "message": ""
}
    ```

    ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '405' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```



    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">

|Status|Description|
|---|---|
|**201**| <a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank">Created</a> |
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>

---

## Delete consent {{ tag: 'DELETE', label: '/v1/consents/{consentId}' }}

<Row>
  <Col>
    Revoke a consent for certain actions within the PSD2 framework. You can securely remove consent permissions associated with a specific consent, ultimately providing greater control over data access and usage.
    
    <Note>
    This step should be used with caution. Once a consent is revoked, the TPP (Third-Party Provider) will no longer have access to the data associated with the consent.
    </Note>

    <Properties title="Path parameters">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentId</span>} type="string">
        The ID of the consent as returned by the consent request.
      </Property>  
    </Properties>

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>                                     
    </Properties>


    <Properties title="Response atrributes">

      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the consent information.
      </Property>
      <Property name="statusCode" type="integer">
      The status code of the response.
      </Property>      
      <Property name="properties" type="string">
      The list of various properties associated with the consent. It includes:
      - `items` (object): The list of items related to the consent information.
      </Property>
      <Property name="tppMessages" type="object">
      The list of messages returned from the ASPSP. It includes:
      - `category` (integer): The message category of the error. Available options: **_0_**, **_1_**.
      - `code` (integer): The code of the error. 
      - `path` (string): The path associated with the error.
      - `text` (string): The text associated with the error.
      </Property>
      <Property name="links" type="object">
      Links associated with the error.
      </Property>      
    </Properties>            

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="DELETE" label="/v1/consents/{consentId}">
      ```bash {{ title: 'cURL' }}
curl -X DELETE /v1/consents/{consentId} \
  -H 'Accept: application/json' \
  -H 'x-Request-ID: string' \
  -H 'Certificate: string' \ 
  -H 'ClientId: string' \
  -H 'Ocp-Apim-Subscription-Key: string'  
      ```

      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Delete, "//v1/consents/<string>");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());

      ```

      ```php {{ title: 'PHP' }}
<?php

require 'vendor/autoload.php';

$headers = array(
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('DELETE','/v1/consents/{consentId}', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...

      ```

      ```ruby {{ title: 'Ruby' }}
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.delete '/v1/consents/{consentId}',
  params: {
  }, headers: headers

p JSON.parse(result)
      ```


      ```javascript {{ title: 'Javascript' }}
const headers = {
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'Ocp-Apim-Subscription-Key':'string'
};

fetch('/v1/consents/{consentId}',
{
  method: 'DELETE',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});
      ```


      ```python {{ title: 'Python' }}
import requests
headers = {
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.delete('/v1/consents/{consentId}', headers = headers)

print(r.json())
      ```

      ```go
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/consents/<string>"
  method := "DELETE"

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, nil)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}

      ```      

     
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '405' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```




    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">

|Status|Description|
|---|---|
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>

---

## Fetch consent details {{ tag: 'GET', label: '/v1/consents/{consentId}' }}

<Row>
  <Col>
    Retrieve detailed information about a specific consent. 
    
    <Note>
    Access account details, balances and transactions authorised by a specific consent.
    </Note>

    <Properties title="Path parameters">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentId</span>} type="string">
        The ID of the consent as returned by the request.
      </Property> 
    </Properties>

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>                                                
    </Properties>

    <Properties title="Response attributes">
      <Property name="access" type="object">
        The access information granted with the consent, including:
        - `accounts` (array): The accounts linked to the consent. It includes:
          - `iban` (string): The International Bank Account Number (IBAN) of the account.        
          - `bban` (string): The Basic Bank Account Number (BBAN) of the account.
          - `pan` (string): The Primary Bank Account Number (PAN) of the account. 
          - `maskedPan` (string): The masked PAN of the account.
          - `msisdn` (string): The MSISDN of the account.                                
          - `currency` (string): The currency of the account. 
      </Property>
      <Property name="balances" type="array">
      The balances of the accounts that the consent is granted for. It includes:
      - `iban` (string): The International Bank Account Number (IBAN) of the account.      
      - `bban` (string): The Basic Bank Account Number (BBAN) of the account. 
      - `pan` (string): The Primary Account Number (PAN) of the account.
      - `currency` (string): The currency in which the consent is created.
      - `maskedPan` (string): The masked Primary Account Number of the account.
      - `msisdn` (string): The Mobile Station International Subscriber Directory Number of the account.                   
      </Property>
      <Property name="transactions" type="array">
      The transactions associated with the consent. It includes:
        - `iban` (string): The International Bank Account Number (IBAN) associated with the consent.      
        - `bban` (string): The Basic Bank Account Number(BBAN) associated with the consent.
        - `pan` (string): The Primary Account Number (PAN) associated with the consent. 
        - `maskedPan` (string): The masked Primary Account Number associated with the consent.
        - `msisdn` (string): The Mobile Station International Subscriber Directory Number associated with the consent.                
        - `currency` (string): The currency in which the consent is created.             
      </Property>
      <Property name="availableAccounts" type="string">
      The list of accounts that the consent is granted for. (optional) \
      Available options: **_allAcounts_** (when used the accounts, balances and transactions are empty)
      </Property>
      <Property name="availableAccountswithBalance" type="string">
      The list of accounts that the consent is granted for. (optional) \
      Available options: **_allAccounts_** (when used the accounts, balances and transactions are empty)
      </Property>
      <Property name="allPsd2" type="string">
      Indicates if the consent is for all Payment Services Directive 2 (PSD2) services. (optional) \
      Available options: **_allAccounts_** (when used the accounts, balances and transactions are empty)
      </Property>      
      <Property name="recurringIndicator" type="boolean">
      Indicator specifying whether the consent is for recurring payments.
      </Property>
      <Property name="validUntil" type="date-time">
      The date and time until the consent is valid.
      </Property>
      <Property name="frequencyPerDay" type="integer">
      The maximum frequency of payments per day allowed by the consent.
      </Property> 
      <Property name="lastActionDate" type="date-time">
      The date of the last action performed.
      </Property>
      <Property name="consentStatus" type="boolean">
      The status of the consent. Available options: 
      - **_0_** - The consent is received.
      - **_1_** - The consent is rejected.
      - **_2_** - The consent is valid.
      - **_3_** - The consent is revoked by the PSU.
      - **_4_** - The consent is expired.
      - **_5_** - The consent is terminated by TPP.
      </Property>
      <Property name="links" type="object">
      Links associated with the response.
      </Property>                
      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the consent information.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent, including:
      - `items` (array): The list of items related to the consent information.
      </Property>
      <Property name="statusCode" type="integer">
      The status code of the response.
      </Property>
      <Property name="tppMessages" type="object">
      The list of messages returned from the ASPSP. It includes:
      - `category` (integer): The message category of the error. Available options: **_0_**, **_1_**.
      - `code` (integer): The code of the error. 
      - `path` (string): The path associated with the error.
      - `text` (string): The text associated with the error.
      </Property>
      <Property name="links" type="object">
      Links associated with the error.
      </Property>                                                              
    </Properties>

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/consents/{consentId}">
      ```bash {{ title: 'cURL' }}
curl -X GET /v1/consents/{consentId} \
  -H 'Accept: application/json' \
  -H 'x-Request-ID: string' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'Ocp-Apim-Subscription-Key: string'  
      ```


      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Get, "//v1/consents/<string>");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());
      ```

      ```php {{ title: 'PHP' }}
<?php

require 'vendor/autoload.php';

$headers = array(
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('GET','/v1/consents/{consentId}', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...
      ```

      ```ruby {{ title: 'Ruby' }}
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.get '/v1/consents/{consentId}',
  params: {
  }, headers: headers

p JSON.parse(result)
      ```



      ```javascript {{ title: 'Javascript' }}
const headers = {
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'Ocp-Apim-Subscription-Key':'string'
};

fetch('/v1/consents/{consentId}',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});
      ```


      ```python {{ title: 'Python' }}
import requests
headers = {
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.get('/v1/consents/{consentId}', headers = headers)

print(r.json())
      ```

      ```go
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/consents/<string>"
  method := "GET"

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, nil)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}
      ```      

     
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '200' }}
{
  "access": {
    "accounts": [
      {
        "iban": "",
        "bban": "",
        "pan": "",
        "maskedPan": "",
        "msisdn": "",
        "currency": ""
      }
    ],
    "balances": [
      {
        "iban": "",
        "bban": "",
        "pan": "",
        "maskedPan": "",
        "msisdn": "",
        "currency": ""
      }
    ],
    "transactions": [
      {
        "iban": "",
        "bban": "",
        "pan": "",
        "maskedPan": "",
        "msisdn": "",
        "currency": ""
      }
    ],
    "availableAccounts": "",
    "availableAccountsWithBalance": "",
    "allPsd2": ""
  },
  "recurringIndicator": false,
  "validUntil": "",
  "frequencyPerDay": "",
  "lastActionDate": "",
  "consentStatus": 0,
  "links": ""
}
    ```

    ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}    
    ```

    ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}   
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}    
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}    
    ```

    ```json {{ title: '405' }}
 {
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}   
    ```

    ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}    
    ```

    ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}    
    ```

    ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}    
    ```


    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">

|Status|Description|
|---|---|
|**200**| <a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank">Created</a> |
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>

---

## Fetch consent authorisation {{ tag: 'GET', label: '/v1/consents/{consentId}/authorisations' }}

<Row>
  <Col>
    Initiate the authorisation process for a specific consent.
    
    <Note>
    Trigger the authentication flow and select the appropriate authentication method.
    </Note>

    <Important>
    It is essential for managing the security and authentication requirements within the PSD2 framework. 
    </Important>

    <Properties title="Path parameters">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentId</span>} type="string">
        The ID of the consent as returned by the request.
      </Property>  
    </Properties>

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>      
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>                                     
    </Properties> 


    <Properties title="Response attributes">
      <Property name="authorisationIds" type="string">
        The authorization IDs associated with the request.
      </Property>      
      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the consent information.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent, including:
      - `items` (array): The list of items related to the consent information.
      </Property>
      <Property name="statusCode" type="integer">
      The status of the consent. Possible values:
      - **_0_** : received
      - **_1_** : rejected
      - **_2_** : valid
      - **_3_** : revoked by PSU
      - **_4_** : expired
      - **_5_** : terminated by TPP
      </Property>
      <Property name="tppMessages" type="object">
      The list of messages returned from the ASPSP. It includes:
      - `category` (integer): The message category of the error. Available options: **_0_**, **_1_**.
      - `code` (integer): The code of the error. 
      - `path` (string): The path associated with the error.
      - `text` (string): The text associated with the error.
      </Property>
      <Property name="links" type="object">
      Links associated with the error.
      </Property>      
    </Properties>

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/consents/{consentId}/authorisations">
      ```bash {{ title: 'cURL' }}
curl -X GET /v1/consents/{consentId}/authorisations \
  -H 'Accept: application/json' \
  -H 'X-Request-ID: string' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'Ocp-Apim-Subscription-Key: string'
      ```

      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Get, "//v1/consents/<string>/authorisations");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());

      ```

      ```php {{ title: 'PHP' }}
<?php

require 'vendor/autoload.php';

$headers = array(
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('GET','/v1/consents/{consentId}/authorisations', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...
      ```

      ```ruby {{ title: 'Ruby' }}
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.get '/v1/consents/{consentId}/authorisations',
  params: {
  }, headers: headers

p JSON.parse(result)
      ```

      ```javascript {{ title: 'Javascript' }}
const headers = {
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'Ocp-Apim-Subscription-Key':'string'
};

fetch('/v1/consents/{consentId}/authorisations',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});
      ```


      ```python {{ title: 'Python' }}
import requests
headers = {
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.get('/v1/consents/{consentId}/authorisations', headers = headers)

print(r.json())
      ```

      ```go
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/consents/<string>/authorisations"
  method := "GET"

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, nil)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}
      ```      

     
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '200' }}
{
  "authorisationIds": [
    ""
  ]
}
    ```
      
      ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
      ```

      ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
      ```

      ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
      ```

      ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
      ```

      ```json {{ title: '405' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
      ```

      ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
      ```

      ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
      ```

      ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
      ```


    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">

|Status|Description|
|---|---|
|**200**| <a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank">Created</a> |
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>

---

## Start consent authorisation {{ tag: 'POST', label: '/v1/consents/{consentId}/authorisations' }}

<Row>
  <Col>
    Initiate the authorisation process for a specific consent.
    
    <Note>
    Trigger the authentication flow and select the appropriate authentication method.
    </Note>

    <Important>
    It is essential for managing the security and authentication requirements within the PSD2 framework. 
    </Important>

    <Properties title="Path parameters">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentId</span>} type="string">
        The ID of the consent as returned by the request.
      </Property>  
    </Properties>

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>     
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>PSU_ID</span>} type="string">
      The PSU's ID, as determined by the PSU. This ID is the identification of the PSU within the ASPSP and should contain the web user's username that requests the consent or initiates the payment.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>       
    </Properties> 


    <Properties title="Response attributes">
      <Property name="scaStatus" type="string">
        The status of the SCA method. The consentStatus parameter represents the status of the consent. It indicates whether the consent is active, revoked, expired, or otherwise.
      </Property>
      <Property name="authorisationId" type="string">
      The ID of the authorisation.
      </Property>          
      <Property name="scaMethods" type="array">
      The methods available for the PSU to authorise the consent.
      - `authenticationType` - The authentication type.
      - `authenticationVersion` - The authentication version.
      - `authenticationMethodId` - It represents the ID of the authentication method used for the consent authorisation.
      - `name` - It represents the name associated with the consent.      
      - `explanation` - It provides an explanation for the consent authorisation.      
      </Property>
      <Property name="chosenScaMethod" type="object">
      It represents the selected SCA (Strong Customer Authentication) method for the consent authorisation. It includes:
      - `authenticationType` - The authentication type. (integer)
      - `authenticationVersion` - The authentication version.
      - `authenticationMethodId` - It represents the ID of the authentication method used for the consent authorisation.  
      - `name` - It represents the name associated with the consent.    
      - `explanation` - It provides an explanation for the consent authorisation
      </Property>
      <Property name="challengeData" type="">
      It contains the challenge data for the consent authorisation, including:
      - `image`: The image associated with the consent authorisation.
      - `data`: The data associated with the consent authorisation.
      - `imageLink`: The link to the image associated with the consent authorisation.
      - `otpMaxLength`: The maximum length of the OTP associated with the consent authorisation.
      - `otpFormat`: The OTP format associated with the consent authorisation.
      - `additionalInformation`: Additional information associated with the consent authorisation.
      </Property>
      <Property name="links" type="object">
        It contains links related to the consent authorisation.
      </Property>
      <Property name="psuMessage" type="string"> 
      It contains the message for the PSU (Payer Service User).
      </Property>      

      <Property name="links" type="object">
      Links associated with the error.
      </Property>
      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the consent information.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent, including:
      - `items` - The list of items associated with the consent.
      </Property>
      <Property name="statusCode" type="integer">
      The status code of the response.
      </Property>
      <Property name="tppMessages" type="object">
      The list of messages returned from the ASPSP. It includes:
      - `category` (integer): The message category of the error. Available options: **_0_**, **_1_**.
      - `code` (integer): The code of the error. 
      - `path` (string): The path associated with the error.
      - `text` (string): The text associated with the error.
      </Property>
      <Property name="links" type="object">
      Links associated with the error.
      </Property>      

    </Properties>

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="POST" label="/v1/consents/{consentId}/authorisations">
      ```bash {{ title: 'cURL' }}
curl -X POST /v1/consents/{consentId}/authorisations \
  -H 'Accept: application/json' \
  -H 'X-Request-ID: string' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'PSU_ID: string' \
  -H 'Ocp-Apim-Subscription-Key: string'  
      ```


      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Post, "//v1/consents/<string>/authorisations");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("PSU_ID", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());

      ```

      ```php {{ title: 'PHP' }}
<?php

require 'vendor/autoload.php';

$headers = array(
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'PSU_ID' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('POST','/v1/consents/{consentId}/authorisations', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...
      ```

      ```ruby {{ title: 'Ruby' }}
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'PSU_ID' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.post '/v1/consents/{consentId}/authorisations',
  params: {
  }, headers: headers

p JSON.parse(result)
      ```


      ```python {{ title: 'Python' }}
import requests
headers = {
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'PSU_ID': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.post('/v1/consents/{consentId}/authorisations', headers = headers)

print(r.json())
      ```

      ```go
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/consents/<string>/authorisations"
  method := "POST"

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, nil)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("PSU_ID", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}
      ```      

     
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '201' }}
{
  "scaStatus": "",
  "authorisationId": "",
  "scaMethods": [
    {
      "authenticationType": 0,
      "authenticationVersion": "",
      "authenticationMethodId": "",
      "name": "",
      "explanation": ""
    }
  ],
  "chosenScaMethod": {
    "authenticationType": 0,
    "authenticationVersion": "",
    "authenticationMethodId": "",
    "name": "",
    "explanation": ""
  },
  "challengeData": {
    "image": "",
    "data": [
      ""
    ],
    "imageLink": "",
    "otpMaxLength": "",
    "otpFormat": 0,
    "additionalInformation": ""
  },
  "links": "",
  "psuMessage": ""
}
    ```



    ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '405' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```


    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">

|Status|Description|
|---|---|
|**200**| <a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank">Created</a> |
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>

---

## Check consent SCA status  {{ tag: 'GET', label: '/v1/consents/{consentId}/authorisations/{authorisationId}' }}

<Row>
  <Col>
    Retrieve the Strong Customer Authentication (SCA) status of the authorisation for a consent initiation. Check whether SCA has been completed for a specific authorisation and make decisions based on the authentication status.

    <Note>
    Use this information to determine the current status of the authorisation process for a specific consent.
    </Note>

    <Properties title="Path parameters">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentId</span>} type="string">
      The unique identifier of the consent for which authorisation information is being requested.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>authorisationId</span>} type="string">
      The unique identifier of the authorisation associated with the consent.
      </Property>
    </Properties>

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>     
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>                                     
    </Properties>


    <Properties title="Response attributes">
      <Property name="scaStatus" type="integer">
      Indicates the Strong Customer Authentication (SCA) status. Available options:
       - **_0_** - received.
       - **_1_** - psuIdentified
       - **_2_** - psuAuthenticated
       - **_3_** - scaMethodSelected
       - **_4_** - started
       - **_5_** - finalised
       - **_6_** - failed
       - **_7_** - exempted
      </Property>                                                                      
      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the consent information.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent, including:
      - `items`: The list of items associated with the consent.
      </Property>
      <Property name="statusCode" type="integer">
      The status code of the response.
      </Property>
      <Property name="tppMessages" type="object">
      The list of messages returned from the ASPSP. It includes:
      - `category` (integer): The message category of the error. Available options: **_0_**, **_1_**.
      - `code` (integer): The code of the error. 
      - `path` (string): The path associated with the error.
      - `text` (string): The text associated with the error.
      </Property>
      <Property name="links" type="object">
      Links associated with the error.
      </Property>                                                        
    </Properties>   

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="v1/consents/{consentId}/authorisations/{authorisationId}">
      ```bash {{ title: 'cURL' }}
curl -X GET /v1/consents/{consentId}/authorisations/{authorisationId} \
  -H 'Accept: application/json' \
  -H 'x-Request-ID: string' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'Ocp-Apim-Subscription-Key: string'
      ```

      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Get, "//v1/consents/<string>/authorisations/<string>");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());

      ```

      ```php {{ title: 'PHP' }}
<?php

require 'vendor/autoload.php';

$headers = array(
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('GET','/v1/consents/{consentId}/authorisations/{authorisationId}', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...
      ```

      ```ruby {{ title: 'Ruby' }}
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.get '/v1/consents/{consentId}/authorisations/{authorisationId}',
  params: {
  }, headers: headers

p JSON.parse(result)
      ```



      ```javascript {{ title: 'Javascript' }}
const headers = {
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'Ocp-Apim-Subscription-Key':'string'
};

fetch('/v1/consents/{consentId}/authorisations/{authorisationId}',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});
      ```


      ```python {{ title: 'Python' }}
import requests
headers = {
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.get('/v1/consents/{consentId}/authorisations/{authorisationId}', headers = headers)

print(r.json())
      ```

      ```go
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/consents/<string>/authorisations/<string>"
  method := "GET"

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, nil)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}
      ```      

     
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '200' }}
{
  "scaStatus": 0
}
    ```

    ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '405' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```


    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">

|Status|Description|
|---|---|
|**200**| <a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank">Created</a> |
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>

---

## Check consent status{{ tag: 'GET', label: '/v1/consents/{consentId}/status' }}

<Row>
  <Col>
    Retrieve the status of a consent. Check the current status of a consent and determine if it is active, expired, revoked or in any other state.

    <Properties title="Path parameters">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentId</span>} type="string">
        The ID of the consent as returned by the consent request.
      </Property> 
    </Properties>

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>     
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The certificate used for signature verification (<strong>Certificate</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The client ID associated with the request (<strong>Application ID</strong> on Devs Portal App).
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
       A unique identifier related to the registered merchant in the Snappi API environment, available within the application's details (<strong>Subscription Key</strong> on Devs Portal App).
      </Property>                                    
    </Properties>


    <Properties title="Response attributes">
      <Property name="consentStatus" type="string">
        The status of the consent. Valid values: **received** | **valid** | **rejected** | **expired** | **terminatedByTpp**
      </Property>
      <Property name="authenticationSchemes" type="array(string)">
      The list of authentication methods used for the consent information.
      </Property>
      <Property name="properties" type="string">
      The list of various properties associated with the consent, including:
      - `items`: The list of items associated with the consent.
      </Property>
      <Property name="statusCode" type="integer">
      The status code of the response.
      </Property>
      <Property name="tppMessages" type="object">
      The list of messages returned from the ASPSP. It includes:
      - `category` (integer): The message category of the error. Available options: **_0_**, **_1_**.
      - `code` (integer): The code of the error. 
      - `path` (string): The path associated with the error.
      - `text` (string): The text associated with the error.
      </Property> 
      <Property name="links" type="object">
      Links associated with the error.
      </Property>                                                                            
    </Properties>

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/consents/{consentId}/status">
      ```bash {{ title: 'cURL' }}
curl -X GET /v1/consents/{consentId}/status \
  -H 'Accept: application/json' \
  -H 'x-Request-ID: string' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'Ocp-Apim-Subscription-Key: string'
      ```

      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Get, "//v1/consents/<string>/status");
request.Headers.Add("X-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("Ocp-Apim-Subscription-Key", "<string>");
request.Headers.Add("Accept", "application/json");
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());
      ```

      ```php {{ title: 'PHP' }}
<?php

require 'vendor/autoload.php';

$headers = array(
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'Ocp-Apim-Subscription-Key' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('GET','/v1/consents/{consentId}/status', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...
      ```

      ```ruby {{ title: 'Ruby' }}
require 'rest-client'
require 'json'

headers = {
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'Ocp-Apim-Subscription-Key' => 'string'
}

result = RestClient.get '/v1/consents/{consentId}/status',
  params: {
  }, headers: headers

p JSON.parse(result)
      ```

      ```javascript {{ title: 'Javascript' }}
const headers = {
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'Ocp-Apim-Subscription-Key':'string'
};

fetch('/v1/consents/{consentId}/status',
{
  method: 'GET',

  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});
      ```


      ```python {{ title: 'Python' }}
import requests
headers = {
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'Ocp-Apim-Subscription-Key': 'string'
}

r = requests.get('/v1/consents/{consentId}/status', headers = headers)

print(r.json())
      ```

      ```go
package main

import (
  "fmt"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/consents/<string>/status"
  method := "GET"

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, nil)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("X-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("Ocp-Apim-Subscription-Key", "<string>")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}
      ```      

     
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '200' }}
{
  "consentStatus": ""
}
    ```

    ```json {{ title: '400' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '401' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    ""
  ],
  "properties": {
    "items": ""
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '405' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '406' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '409' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```

    ```json {{ title: '429' }}
{
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "",
      "text": ""
    }
  ],
  "links": ""
}
    ```



    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

<div className="table">

|Status|Description|
|---|---|
|**200**| <a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank">Created</a> |
|**400**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.1" target="_blank">Bad Request</a> |
|**401**| <a href="https://tools.ietf.org/html/rfc7235#section-3.1" target="_blank">Unauthorised</a> |
|**403**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.3" target="_blank">Forbidden</a> | 
|**404**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.4"  target="_blank">Not Found</a> | 
|**405**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.5" target="_blank">Method Not Allowed</a> | 
|**406**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.6" target="_blank">Not Acceptable</a> | 
|**409**| <a href="https://tools.ietf.org/html/rfc7231#section-6.5.8" target="_blank">Conflict</a> | 
|**429**| <a href="https://tools.ietf.org/html/rfc6585#section-4" target="_blank">Too Many Requests</a>| 

</div>

---

{/*

## Update consents PSU data  {{ tag: 'PUT', label: '/v1/consents/{consentId}/authorisations/{authorisationId}' }}

<Row>
  <Col>
    Update the authentication data for a specific consent and authorisation. 
    
    <Important>
    This action is essential for managing user authentication and securing access to sensitive data within the snappi PSD2 framework.
    </Important>

    <Properties title="Path parameters">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>consentId</span>} type="string">
      The consentId of the related AIS consent, which was performed prior to this payment initiation.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>authorisationId</span>} type="string">
      The authorisationId of the related AIS consent, which was performed prior to this payment initiation.
      </Property>
    </Properties>

    <Properties title="Headers">
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>x-Request-ID</span>} type="string(uuid)">
        ID of the request, unique to the call, as determined by the initiating party.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Ocp-Apim-Subscription-Key</span>} type="string">
        A unique identifier related to the registered merchant in the snappi API environment, available within the application's details.
      </Property>      
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>Certificate</span>} type="string">
      The TPP's public key certificate in base64 encoding.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>ClientId</span>} type="string">
      The TPP's unique id, issued by the OB.
      </Property>
      <Property name="digest" type="string">
        Is contained if and only if the `Signature` element is contained in the header of the request.
      </Property>
      <Property name="signature" type="string">
        A signature of the request by the TPP on application level. This might be mandated by ASPSP.
      </Property>
      <Property name="tPPSignatureCertificate" type="string(byte)">
        The certificate used for signing the request, in base64 encoding. Must be contained if a signature is contained.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>pSU_ID</span>} type="string">
        The PSU's ID, as determined by the PSU. This ID is the identification of the PSU within the ASPSP.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>pSUIDType</span>} type="string">
        The type of the PSU-ID, as determined by the TPP.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>pSUCorporateID</span>} type="string">
        The PSU's corporate ID, as determined by the PSU. This ID is the identification of the PSU within the ASPSP. 
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>pSUCorporateIDType</span>} type="string">
        The type of the PSU's corporate ID, as determined by the TPP.
      </Property>  
      <Property name="pSUIPAddress" type="string">
        The corresponding HTTP request IP Address field between PSU and TPP. It shall be contained if and only if this request was actively initiated by the PSU.
      </Property>
      <Property name="pSUIPPort" type="string">
        The corresponding HTTP request IP Port field between PSU and TPP, if available.
      </Property>
      <Property name="pSUAccept" type="string">
        The corresponding HTTP request Accept header fields between PSU and TPP, if available.
      </Property>
      <Property name={<span style={{ color: 'rgb(255,121,170)' }}>pSUAcceptCharset</span>} type="string">
        The consentId of the related AIS consent, which was performed prior to this payment initiation.
      </Property>
      <Property name="pSUAcceptEncoding " type="string(byte)">
        The certificate used for signing the request, in base64 encoding. Must be contained if a signature is contained.
      </Property>                 
      <Property name="pSUAcceptLanguage" type="string">
        The Accept-Language header fields forwarded from the PSU to the TPP, if available, consist of the corresponding HTTP request Accept-Language header fields. These fields indicate the preferred language(s) for the response to be returned in.
      </Property>
      <Property name="pSUUserAgent" type="string">
        The forwarded Agent header field of the HTTP request between PSU and TPP, if available.
      </Property>
      <Property name="pSUHttpMethod" type="string">
        HTTP method used at the PSU TPP interface, if available. Valid values: **GET** | **POST** | **PUT** | **PATCH** | **DELETE**
      </Property>
      <Property name="pSUDeviceID" type="string(uuid)">
        UUID (Universally Unique Identifier) for a device, which is used by the PSU, if available. UUID identifies either a device or a device dependant application installation. In case of an installation identification this ID need to be unaltered until removal from device.
      </Property>
      <Property name="pSUGeoLocation" type="string">
        The forwarded Geo Location of the corresponding HTTP request between PSU and TPP if available.
      </Property>                               
    </Properties>

    <Properties title="Body parameters">
      <Property name="scaAuthenticationData" type="string">
        The authentication data for the Strong Customer Authentication (SCA) process.
      </Property> 
    </Properties>


    <Properties title="Response attributes">                                                                

      <Property name="tppMessages" type="string"> 
      The messages of the consent authorisation.
      </Property>
      <Property name="category" type="string">
        The category of the error.
      </Property>
      <Property name="code" type="string">
        The code of the error.
      </Property>       
      <Property name="path" type="string">
        The path associated with the error.
      </Property>
      <Property name="text" type="string">
        The text associated with the error.
      </Property> 
      <Property name="links" type="object">
        The links related to the consent authorisation. They provide additional navigation and context information.
      </Property>                                                                        
    </Properties>   

  </Col>

  <Col sticky>
    <CodeGroup title="Request" tag="PUT" label="v1/consents/{consentId}/authorisations/{authorisationId}">
      ```bash {{ title: 'cURL' }}
curl -X PUT /v1/consents/{consentId}/authorisations/{authorisationId} \
  -H 'Content-Type: application/json' \
  -H 'Accept: application/json' \
  -H 'x-Request-ID: string' \
  -H 'Certificate: string' \
  -H 'ClientId: string' \
  -H 'digest: string' \
  -H 'signature: string' \
  -H 'tPPSignatureCertificate: string' \
  -H 'pSU_ID: string' \
  -H 'pSUIDType: string' \
  -H 'pSUCorporateID: string' \
  -H 'pSUCorporateIDType: string' \
  -H 'pSUIPAddress: string' \
  -H 'pSUIPPort: string' \
  -H 'pSUAccept: string' \
  -H 'pSUAcceptCharset: string' \
  -H 'pSUAcceptEncoding: string' \
  -H 'pSUAcceptLanguage: string' \
  -H 'pSUUserAgent: string' \
  -H 'pSUHttpMethod: string' \
  -H 'pSUDeviceID: string' \
  -H 'pSUGeoLocation: string' \
  -d '{'scaAuthenticationData: string'}'
  
      ```

      ```csharp
var client = new HttpClient();
var request = new HttpRequestMessage(HttpMethod.Put, "//v1/consents/<string>/authorisations/<string>");
request.Headers.Add("x-Request-ID", "<uuid>");
request.Headers.Add("Certificate", "<string>");
request.Headers.Add("ClientId", "<string>");
request.Headers.Add("digest", "<string>");
request.Headers.Add("signature", "<string>");
request.Headers.Add("tPPSignatureCertificate", "<string>");
request.Headers.Add("pSU_ID", "<string>");
request.Headers.Add("pSUIDType", "<string>");
request.Headers.Add("pSUCorporateID", "<string>");
request.Headers.Add("pSUCorporateIDType", "<string>");
request.Headers.Add("pSUIPAddress", "<string>");
request.Headers.Add("pSUIPPort", "<string>");
request.Headers.Add("pSUAccept", "<string>");
request.Headers.Add("pSUAcceptCharset", "<string>");
request.Headers.Add("pSUAcceptEncoding", "<string>");
request.Headers.Add("pSUAcceptLanguage", "<string>");
request.Headers.Add("pSUUserAgent", "<string>");
request.Headers.Add("pSUHttpMethod", "<string>");
request.Headers.Add("pSUDeviceID", "<uuid>");
request.Headers.Add("pSUGeoLocation", "<string>");
request.Headers.Add("Accept", "application/json");
var content = new StringContent("{\n  \"scaAuthenticationData\": \"<string>\"\n}", null, "application/json");
request.Content = content;
var response = await client.SendAsync(request);
response.EnsureSuccessStatusCode();
Console.WriteLine(await response.Content.ReadAsStringAsync());

      ```

      ```php {{ title: 'PHP' }}
<?php

require 'vendor/autoload.php';

$headers = array(
    'Content-Type' => 'application/json',
    'Accept' => 'application/json',
    'X-Request-ID' => 'string',
    'Certificate' => 'string',
    'ClientId' => 'string',
    'digest' => 'string',
    'signature' => 'string',
    'tPPSignatureCertificate' => 'string',
    'PSU_ID' => 'string',
    'pSUIDType' => 'string',
    'pSUCorporateID' => 'string',
    'pSUCorporateIDType' => 'string',
    'pSUIPAddress' => 'string',
    'pSUIPPort' => 'string',
    'pSUAccept' => 'string',
    'pSUAcceptCharset' => 'string',
    'pSUAcceptEncoding' => 'string',
    'pSUAcceptLanguage' => 'string',
    'pSUUserAgent' => 'string',
    'pSUHttpMethod' => 'string',
    'pSUDeviceID' => 'string',
    'pSUGeoLocation' => 'string',
);

$client = new \GuzzleHttp\Client();

// Define array of request body.
$request_body = array();

try {
    $response = $client->request('PUT','/v1/consents/{consentId}/authorisations/{authorisationId}', array(
        'headers' => $headers,
        'json' => $request_body,
       )
    );
    print_r($response->getBody()->getContents());
 }
 catch (\GuzzleHttp\Exception\BadResponseException $e) {
    // handle exception or api errors.
    print_r($e->getMessage());
 }

 // ...
      ```

      ```ruby {{ title: 'Ruby' }}
require 'rest-client'
require 'json'

headers = {
  'Content-Type' => 'application/json',
  'Accept' => 'application/json',
  'X-Request-ID' => 'string',
  'Certificate' => 'string',
  'ClientId' => 'string',
  'digest' => 'string',
  'signature' => 'string',
  'tPPSignatureCertificate' => 'string',
  'PSU_ID' => 'string',
  'pSUIDType' => 'string',
  'pSUCorporateID' => 'string',
  'pSUCorporateIDType' => 'string',
  'pSUIPAddress' => 'string',
  'pSUIPPort' => 'string',
  'pSUAccept' => 'string',
  'pSUAcceptCharset' => 'string',
  'pSUAcceptEncoding' => 'string',
  'pSUAcceptLanguage' => 'string',
  'pSUUserAgent' => 'string',
  'pSUHttpMethod' => 'string',
  'pSUDeviceID' => 'string',
  'pSUGeoLocation' => 'string'
}

result = RestClient.put '/v1/consents/{consentId}/authorisations/{authorisationId}',
  params: {
  }, headers: headers

p JSON.parse(result)
      ```



      ```javascript {{ title: 'Javascript' }}
const inputBody = '{
  "scaAuthenticationData": "string"
}';
const headers = {
  'Content-Type':'application/json',
  'Accept':'application/json',
  'X-Request-ID':'string',
  'Certificate':'string',
  'ClientId':'string',
  'digest':'string',
  'signature':'string',
  'tPPSignatureCertificate':'string',
  'PSU_ID':'string',
  'pSUIDType':'string',
  'pSUCorporateID':'string',
  'pSUCorporateIDType':'string',
  'pSUIPAddress':'string',
  'pSUIPPort':'string',
  'pSUAccept':'string',
  'pSUAcceptCharset':'string',
  'pSUAcceptEncoding':'string',
  'pSUAcceptLanguage':'string',
  'pSUUserAgent':'string',
  'pSUHttpMethod':'string',
  'pSUDeviceID':'string',
  'pSUGeoLocation':'string'
};

fetch('/v1/consents/{consentId}/authorisations/{authorisationId}',
{
  method: 'PUT',
  body: inputBody,
  headers: headers
})
.then(function(res) {
    return res.json();
}).then(function(body) {
    console.log(body);
});

      ```


      ```python {{ title: 'Python' }}
import requests
headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'X-Request-ID': 'string',
  'Certificate': 'string',
  'ClientId': 'string',
  'digest': 'string',
  'signature': 'string',
  'tPPSignatureCertificate': 'string',
  'PSU_ID': 'string',
  'pSUIDType': 'string',
  'pSUCorporateID': 'string',
  'pSUCorporateIDType': 'string',
  'pSUIPAddress': 'string',
  'pSUIPPort': 'string',
  'pSUAccept': 'string',
  'pSUAcceptCharset': 'string',
  'pSUAcceptEncoding': 'string',
  'pSUAcceptLanguage': 'string',
  'pSUUserAgent': 'string',
  'pSUHttpMethod': 'string',
  'pSUDeviceID': 'string',
  'pSUGeoLocation': 'string'
}

r = requests.put('/v1/consents/{consentId}/authorisations/{authorisationId}', headers = headers)

print(r.json())
      ```

      ```go
package main

import (
  "fmt"
  "strings"
  "net/http"
  "io/ioutil"
)

func main() {

  url := "//v1/consents/<string>/authorisations/<string>"
  method := "PUT"

  payload := strings.NewReader(`{
  "scaAuthenticationData": "<string>"
}`)

  client := &http.Client {
  }
  req, err := http.NewRequest(method, url, payload)

  if err != nil {
    fmt.Println(err)
    return
  }
  req.Header.Add("x-Request-ID", "<uuid>")
  req.Header.Add("Certificate", "<string>")
  req.Header.Add("ClientId", "<string>")
  req.Header.Add("digest", "<string>")
  req.Header.Add("signature", "<string>")
  req.Header.Add("tPPSignatureCertificate", "<string>")
  req.Header.Add("pSU_ID", "<string>")
  req.Header.Add("pSUIDType", "<string>")
  req.Header.Add("pSUCorporateID", "<string>")
  req.Header.Add("pSUCorporateIDType", "<string>")
  req.Header.Add("pSUIPAddress", "<string>")
  req.Header.Add("pSUIPPort", "<string>")
  req.Header.Add("pSUAccept", "<string>")
  req.Header.Add("pSUAcceptCharset", "<string>")
  req.Header.Add("pSUAcceptEncoding", "<string>")
  req.Header.Add("pSUAcceptLanguage", "<string>")
  req.Header.Add("pSUUserAgent", "<string>")
  req.Header.Add("pSUHttpMethod", "<string>")
  req.Header.Add("pSUDeviceID", "<uuid>")
  req.Header.Add("pSUGeoLocation", "<string>")
  req.Header.Add("Content-Type", "application/json")
  req.Header.Add("Accept", "application/json")

  res, err := client.Do(req)
  if err != nil {
    fmt.Println(err)
    return
  }
  defer res.Body.Close()

  body, err := ioutil.ReadAll(res.Body)
  if err != nil {
    fmt.Println(err)
    return
  }
  fmt.Println(string(body))
}
      ```      

     
    </CodeGroup>

  <Col sticky>
    <CodeGroup title="Response examples">

    ```json {{ title: '4xx' }}
{
  "tppMessages": [
    {
      "category": "eRROR",
      "code": "string",
      "path": "string",
      "text": {}
    }
  ],
  "links": {}
}
    ```

    ```json {{ title: '403' }}
{
  "authenticationSchemes": [
    "string"
  ],
  "properties": {
    "items": {}
  },
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "string",
      "text": "string"
    }
  ],
  "links": {}
}
    ```

    ```json {{ title: '404' }}
{
  "statusCode": "integer",
  "tppMessages": [
    {
      "category": 0,
      "code": 0,
      "path": "string",
      "text": "string"
    }
  ],
  "links": {}
}

    ```



    </CodeGroup> 
  </Col>   

  </Col>
</Row>

  ### Responses

|Status|Description| Code (string)
|---|---|---|
|**400**|[Bad Request](https://tools.ietf.org/html/rfc7231#section-6.5.1)| `fORMAT_ERROR` |
|**401**|[Unauthorised](https://tools.ietf.org/html/rfc7235#section-3.1)| `cERTIFICATE_INVALID` |
|**403**|[Forbidden](https://tools.ietf.org/html/rfc7231#section-6.5.3)| `cONSENT_UNKNOWN` |
|**404**|[Not Found](https://tools.ietf.org/html/rfc7231#section-6.5.4)| `rESOURCE_UNKNOWN` |
|**405**|[Method Not Allowed](https://tools.ietf.org/html/rfc7231#section-6.5.5)| `sERVICE_INVALID` |
|**406**|[Not Acceptable](https://tools.ietf.org/html/rfc7231#section-6.5.6)| `rEQUESTED_FORMATS_INVALID` |
|**408**|[Request Timeout](https://tools.ietf.org/html/rfc7231#section-6.5.7)|
|**409**|[Conflict](https://tools.ietf.org/html/rfc7231#section-6.5.8)| `sTATUS_INVALID` |
|**415**|[Unsupported Media Type](https://tools.ietf.org/html/rfc7231#section-6.5.13)| 
|**429**|[Too Many Requests](https://tools.ietf.org/html/rfc6585#section-4)| `aCCESS_EXCEEDED` |
|**500**|[Internal Server Error](https://tools.ietf.org/html/rfc7231#section-6.6.1)|
|**503**|[Service Unavailable](https://tools.ietf.org/html/rfc7231#section-6.6.4)|

---
*/}